@font-face {
  font-family: 'CelebMF';
  src: url('./font/Masterfont - Celeb MF Medium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'CelebMFLight';
  src: url('./font/Masterfont - Celeb MF Light.otf') format('opentype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* System Fonts - SF Pro */
  --font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

  /* --- SEMANTIC TOKEN SYSTEM (DEFAULT: DARK) --- */
  /* Reference Image Matching */
  --bg-sidebar: #18181B;
  /* User Spec: Side Panel */
  --bg-main: #1E1E21;
  /* User Spec: Main BG */
  --bg-card: #242429;
  /* User Spec: Detectable Container */

  --bg-toggle-switch: #303033;
  /* User Spec: Toggle Button */
  --bg-item-surface: #27272A;
  /* User Spec: Icons & Input Backgrounds */
  --bg-item-active: #2C2C2C;
  /* Selected state */

  --bg-primary: #000000;
  /* Fallback */
  --bg-secondary: #050505;
  /* Fallback */
  --bg-elevated: #151515;
  /* Fallback */
  --bg-input: #1A1A1A;
  /* Fallback */

  --text-primary: #ffffff;
  --text-secondary: #A0A0A0;
  --text-tertiary: #606060;

  --border-subtle: transparent;
  --border-muted: #333333;

  --accent-primary: #3b82f6;
  --accent-muted: rgba(59, 130, 246, 0.15);

  --bg-component: #262626;
  /* Specific legacy value */

  --overlay-bg: rgba(30, 30, 30, 0.65);
}

[data-theme='light'] {
  /* --- LIGHT MODE PALETTE (Refined Material Model) --- */

  /* Canvas = Matte Paper | Cards = Porcelain */
  --bg-primary: #FFFFFF;
  /* Pure White */
  --bg-secondary: #F5F5F7;
  /* Light Grey for separation */
  --bg-elevated: #FFFFFF;
  /* Porcelain: Clean cards */
  --bg-input: #Eaeaea;
  /* Recessed/Input areas */

  /* Reference Image Mappings (Light) */
  --bg-sidebar: #F5F5F7;
  /* User Spec Light */
  --bg-main: #FFFFFF;
  /* User Spec Light */
  --bg-card: #F9F9FB;
  /* User Spec Light */
  --bg-item-active: #E4E4E7;
  /* User Spec Light */

  --bg-toggle-switch: #E4E4E7;
  /* User Spec Light */
  --bg-item-surface: #F0F0F2;
  /* User Spec Light */

  /* Text = Graphite Ink */
  --text-primary: #000000;
  /* Pure black for max contrast */
  --text-secondary: #3A3A3C;
  /* Dark Grey */
  --text-tertiary: #8E8E93;
  /* structural metadata */

  /* Borders = Nearly Invisible */
  --border-subtle: rgba(0, 0, 0, 0.06);
  --border-muted: rgba(0, 0, 0, 0.12);

  /* Accent = Calm & Confident */
  --accent-primary: #0071E3;
  /* Premium balanced blue */
  --accent-muted: rgba(0, 113, 227, 0.12);

  --bg-component: #F0F0F2;
  /* Input/Button background in Light Mode */

  --overlay-bg: rgba(245, 245, 247, 0.85);
  /* Frosted matte glass */

  .force-black-icon {
    filter: brightness(0) !important;
  }
}

/* App sizing baseline (required for h-full / flex scroll areas) */
html,
body,
#root {
  height: 100%;
  width: 100%;
  overflow: hidden;
  /* Transparent background to let vibrancy show through */
  background: transparent !important;
  /* System font */
  font-family: var(--font-system);
  /* Smoother fonts */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Allow selection in specific areas if needed */
.selectable {
  user-select: text;
  -webkit-user-select: text;
}

body {
  margin: 0;
  /* cursor: default; -> Removed to let app dictate cursor */
}

/* Scrollbar Styling - Minimal macOS Hidden style */
::-webkit-scrollbar {
  width: 0px;
  background: transparent;
}

/* Liquid Glass Effect Base - Refined Matte Look */
/* Used for floating elements on top of the vibrant background */
.liquid-glass {
  background: rgba(30, 30, 30, 0.65);
  /* Restored original opacity */
  backdrop-filter: blur(24px) saturate(140%);
  -webkit-backdrop-filter: blur(24px) saturate(140%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 1.25rem;
  box-shadow:
    0 20px 40px -10px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  position: relative;
  overflow: hidden;
}

/* Interaction Utilities - Reusable */
.interaction-base {
  transition-property: transform, opacity, background-color, border-color, color;
  transition-duration: 200ms;
  transition-timing-function: cubic-bezier(0.25, 1, 0.5, 1);
  backface-visibility: hidden;
}

.interaction-hover:hover {
  transform: translateY(-0.5px);
}

.interaction-press:active {
  transform: scale(0.97);
  opacity: 0.9;
}

/* Electron Stability - Drag Regions */
/* Title bar area usually */
.titlebar-drag-region {
  -webkit-app-region: drag;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 38px;
  /* Standard macOS titlebar height */
  z-index: 9999;
  cursor: default;
}

.draggable-area {
  -webkit-app-region: drag;
  position: relative;
  z-index: 50;
  cursor: default;
}

.drag-region {
  -webkit-app-region: drag;
}

/* Make sure buttons and interactive elements are not draggable */
button,
input,
select,
textarea,
.interactive,
.no-drag,
[role="button"],
a {
  -webkit-app-region: no-drag;
  cursor: default;
}

/* Override cursor for clickable items */
button:hover,
[role="button"]:hover,
a:hover,
.cursor-pointer {
  cursor: pointer;
}

/* Utilities for sidebar layout */
.app-sidebar {
  background: rgba(0, 0, 0, 0.2);
  /* Darker sidebar */
  backdrop-filter: blur(10px);
  /* Minor local blur */
  border-right: 1px solid rgba(255, 255, 255, 0.08);
}

.app-content {
  background: transparent;
  /* Let vibrancy show */
}

@keyframes shine {
  0% {
    transform: translateX(-100%) skewX(-12deg);
  }

  100% {
    transform: translateX(200%) skewX(-12deg);
  }
}

.animate-shine {
  animation: shine 2s infinite;
}